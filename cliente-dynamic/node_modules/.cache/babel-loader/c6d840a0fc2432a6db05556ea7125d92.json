{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\cliente\\\\cliente-dynamic\\\\src\\\\components\\\\Login.jsx\";\nimport React from \"react\";\nimport '../assets/css/main.css';\nimport logochip from '../assets/img/logochip.png';\nimport { endPoint } from '../services/apiRest.js';\nimport { useNavigate, Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    const navigate = useNavigate();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper fadeInDown\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"formContent\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fadeIn first\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logochip,\n              width: \"100\",\n              alt: \"User Icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.eventForm,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              className: \"fadeIn second\",\n              placeholder: \"email\",\n              onChange: this.eventChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              className: \"fadeIn third\",\n              placeholder: \"password\",\n              onChange: this.eventChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              className: \"fadeIn fourth\",\n              value: \"Log In\",\n              onClick: this.eventSubmit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"formFooter\",\n            children: this.state.error === true && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              role: \"alert\",\n              children: this.state.errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","logochip","endPoint","useNavigate","Link","axios","Login","Component","constructor","props","navigate","render","eventForm","eventChange","eventSubmit","state","error","errorMsg"],"sources":["C:/Users/Administrador/Desktop/cliente/cliente-dynamic/src/components/Login.jsx"],"sourcesContent":["import React from \"react\";\r\nimport '../assets/css/main.css';\r\nimport logochip from '../assets/img/logochip.png';\r\nimport {endPoint} from '../services/apiRest.js';\r\nimport { useNavigate, Link  } from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\nclass Login extends React.Component {\r\n    constructor(props){\r\n        \r\n        const navigate = useNavigate();\r\n    }\r\n\r\n    state={\r\n        form:{\r\n            \"email\":\"\",\r\n            \"password\":\"\"\r\n    },\r\n    error:false,\r\n    errorMsg:\"\"\r\n}\r\n        \r\n    eventForm=(e)=>{\r\n        e.preventDefault() \r\n    }\r\n    eventChange= async e=>{\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name] : e.target.value\r\n            }\r\n        })\r\n    }\r\n    eventSubmit=()=>{\r\n        \r\n        let url = endPoint + 'api/login-clientes'\r\n        axios.post(url,this.state.form)\r\n        .then(response=>{\r\n            if(response.data.error){\r\n                this.setState({\r\n                    error: response.data.error,\r\n                    errorMsg: response.data.mensaje  \r\n                })\r\n                return;\r\n            }else{\r\n                const Access_token = response.data.Access_token.split(\"|\");\r\n                localStorage.setItem('token', Access_token[1])\r\n                this.navigate(\"/ShowProducto\",{ replace: true })\r\n                \r\n            }\r\n        }).catch(\r\n            error=>{\r\n                this.setState({\r\n                    error: true,\r\n                    errorMsg: 'no se pudo validar las credenciales '\r\n                })\r\n            }\r\n        )\r\n \r\n     }\r\n\r\n    render() {\r\n        return(\r\n        <React.Fragment>\r\n\r\n            <div className=\"wrapper fadeInDown\">\r\n                <div id=\"formContent\">\r\n\r\n\r\n\r\n                    <div className=\"fadeIn first\">\r\n                        <img src={logochip} width ='100' alt=\"User Icon\" />\r\n                    </div>\r\n                    <form onSubmit={this.eventForm}>\r\n                        <input type=\"text\" name=\"email\" className=\"fadeIn second\"  placeholder=\"email\" onChange={this.eventChange} />\r\n                        <input type=\"password\" name=\"password\" className=\"fadeIn third\" placeholder=\"password\" onChange={this.eventChange} />\r\n                        <input type=\"submit\" className=\"fadeIn fourth\" value=\"Log In\" onClick={this.eventSubmit} />\r\n                    </form>\r\n                    <div id=\"formFooter\">\r\n                        {\r\n                        this.state.error ===true &&\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n\r\n                                        {this.state.errorMsg}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,wBAAP;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAAQC,QAAR,QAAuB,wBAAvB;AACA,SAASC,WAAT,EAAsBC,IAAtB,QAAmC,kBAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,KAAN,SAAoBN,KAAK,CAACO,SAA1B,CAAoC;EAChCC,WAAW,CAACC,KAAD,EAAO;IAEd,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;EACH;;EAkDDQ,MAAM,GAAG;IACL,oBACA,QAAC,KAAD,CAAO,QAAP;MAAA,uBAEI;QAAK,SAAS,EAAC,oBAAf;QAAA,uBACI;UAAK,EAAE,EAAC,aAAR;UAAA,wBAII;YAAK,SAAS,EAAC,cAAf;YAAA,uBACI;cAAK,GAAG,EAAEV,QAAV;cAAoB,KAAK,EAAE,KAA3B;cAAiC,GAAG,EAAC;YAArC;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA,QAJJ,eAOI;YAAM,QAAQ,EAAE,KAAKW,SAArB;YAAA,wBACI;cAAO,IAAI,EAAC,MAAZ;cAAmB,IAAI,EAAC,OAAxB;cAAgC,SAAS,EAAC,eAA1C;cAA2D,WAAW,EAAC,OAAvE;cAA+E,QAAQ,EAAE,KAAKC;YAA9F;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAO,IAAI,EAAC,UAAZ;cAAuB,IAAI,EAAC,UAA5B;cAAuC,SAAS,EAAC,cAAjD;cAAgE,WAAW,EAAC,UAA5E;cAAuF,QAAQ,EAAE,KAAKA;YAAtG;cAAA;cAAA;cAAA;YAAA,QAFJ,eAGI;cAAO,IAAI,EAAC,QAAZ;cAAqB,SAAS,EAAC,eAA/B;cAA+C,KAAK,EAAC,QAArD;cAA8D,OAAO,EAAE,KAAKC;YAA5E;cAAA;cAAA;cAAA;YAAA,QAHJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAPJ,eAYI;YAAK,EAAE,EAAC,YAAR;YAAA,UAEI,KAAKC,KAAL,CAAWC,KAAX,KAAoB,IAApB,iBACQ;cAAK,SAAS,EAAC,oBAAf;cAAoC,IAAI,EAAC,OAAzC;cAAA,UAES,KAAKD,KAAL,CAAWE;YAFpB;cAAA;cAAA;cAAA;YAAA;UAHZ;YAAA;YAAA;YAAA;UAAA,QAZJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA;IAFJ;MAAA;MAAA;MAAA;IAAA,QADA;EA8BH;;AArF+B;;AAwFpC,eAAeX,KAAf"},"metadata":{},"sourceType":"module"}