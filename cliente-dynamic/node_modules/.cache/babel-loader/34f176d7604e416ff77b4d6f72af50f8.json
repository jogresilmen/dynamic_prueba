{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\cliente\\\\cliente-dynamic\\\\src\\\\components\\\\Login.jsx\",\n    _s2 = $RefreshSig$();\n\nimport { React, useState } from \"react\";\nimport '../assets/css/main.css';\nimport logochip from '../assets/img/logochip.png';\nimport { endPoint } from '../services/apiRest.js';\nimport { useNavigate, Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s2();\n\n  let {\n    logochip\n  } = _ref;\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n    error: false,\n    errorMsg: ''\n  });\n\n  eventForm = e => {\n    e.preventDefault();\n  };\n\n  eventChange = async e => {\n    await setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  eventSubmit = () => {\n    var _s = $RefreshSig$();\n\n    let url = endPoint + 'api/login-clientes';\n\n    _s(axios.post(url, this.state.form).then(_s(response => {\n      _s();\n\n      if (response.data.error) {\n        setForm({\n          error: response.data.error,\n          errorMsg: response.data.mensaje\n        });\n        return;\n      } else {\n        const Accesstoken = response.data.Access_token.split(\"|\");\n        localStorage.setItem('token', Accesstoken[1]);\n        useNavigate(\"/ShowProducto\", {\n          replace: true\n        });\n      }\n    }, \"7z+bV9xHBQ1A1bt6m/1oQLk0tZA=\", false, function () {\n      return [useNavigate];\n    })), \"7z+bV9xHBQ1A1bt6m/1oQLk0tZA=\", false, function () {\n      return [useNavigate];\n    }).catch(error => {\n      setForm({\n        error: true,\n        errorMsg: 'no se pudo validar las credenciales '\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper fadeInDown\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"formContent\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fadeIn first\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logochip,\n            width: \"100\",\n            alt: \"User Icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: eventForm,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"email\",\n            className: \"fadeIn second\",\n            placeholder: \"email\",\n            onChange: eventChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            className: \"fadeIn third\",\n            placeholder: \"password\",\n            onChange: eventChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"fadeIn fourth\",\n            value: \"Log In\",\n            onClick: eventSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"formFooter\",\n          children: this.state.error === true && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger\",\n            role: \"alert\",\n            children: setForm.errorMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s2(Login, \"B+qg+c1FdxuvEZo/s6Jgifx4BWU=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","logochip","endPoint","useNavigate","Link","axios","Login","form","setForm","email","password","error","errorMsg","eventForm","e","preventDefault","eventChange","target","name","value","eventSubmit","url","post","state","then","response","data","mensaje","Accesstoken","Access_token","split","localStorage","setItem","replace","catch"],"sources":["C:/Users/Administrador/Desktop/cliente/cliente-dynamic/src/components/Login.jsx"],"sourcesContent":["import {React, useState} from \"react\";\r\nimport '../assets/css/main.css';\r\nimport logochip from '../assets/img/logochip.png';\r\nimport {endPoint} from '../services/apiRest.js';\r\nimport { useNavigate, Link  } from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\nconst Login = ({logochip}) => {\r\n    const [form, setForm] = useState({\r\n        email: '',\r\n        password: '',\r\n        error: false,\r\n        errorMsg: ''\r\n    })\r\n        \r\n    eventForm=(e)=>{\r\n        e.preventDefault() \r\n    }\r\n\r\n    eventChange= async e=>{\r\n        await setForm({\r\n            ...form,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n    eventSubmit=()=>{\r\n        \r\n        let url = endPoint + 'api/login-clientes'\r\n        axios.post(url,this.state.form)\r\n        .then(response=>{\r\n            if(response.data.error){\r\n                setForm({\r\n                    error: response.data.error,\r\n                    errorMsg: response.data.mensaje  \r\n                })\r\n                return;\r\n            }else{\r\n                const Accesstoken = response.data.Access_token.split(\"|\");\r\n                localStorage.setItem('token', Accesstoken[1])\r\n                useNavigate(\"/ShowProducto\",{ replace: true })\r\n                \r\n            }\r\n        }).catch(\r\n            error=>{\r\n                setForm({\r\n                    error: true,\r\n                    errorMsg: 'no se pudo validar las credenciales '\r\n                })\r\n            }\r\n        )\r\n \r\n     }\r\n\r\n    \r\n        return(\r\n        <>\r\n\r\n            <div className=\"wrapper fadeInDown\">\r\n                <div id=\"formContent\">\r\n\r\n\r\n\r\n                    <div className=\"fadeIn first\">\r\n                        <img src={logochip} width ='100' alt=\"User Icon\" />\r\n                    </div>\r\n                    <form onSubmit={eventForm}>\r\n                        <input type=\"text\" name=\"email\" className=\"fadeIn second\"  placeholder=\"email\" onChange={eventChange} />\r\n                        <input type=\"password\" name=\"password\" className=\"fadeIn third\" placeholder=\"password\" onChange={eventChange} />\r\n                        <input type=\"submit\" className=\"fadeIn fourth\" value=\"Log In\" onClick={eventSubmit} />\r\n                    </form>\r\n                    <div id=\"formFooter\">\r\n                        {\r\n                        this.state.error ===true &&\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n\r\n                                        {setForm.errorMsg}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n        )\r\n    \r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}