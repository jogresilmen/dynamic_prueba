{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\cliente\\\\cliente-dynamic\\\\src\\\\components\\\\Login.jsx\";\nimport React from \"react\";\nimport '../assets/css/main.css';\nimport logochip from '../assets/img/logochip.png';\nimport { endPoint } from '../services/apiRest.js';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    var _s = $RefreshSig$();\n\n    super(props);\n    this.state = {\n      form: {\n        \"email\": \"\",\n        \"password\": \"\"\n      },\n      error: false,\n      errorMsg: \"\"\n    };\n\n    this.eventForm = e => {\n      e.preventDefault();\n    };\n\n    this.eventChange = async e => {\n      await this.setState({\n        form: { ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.eventSubmit = _s(() => {\n      _s();\n\n      let navigate = useNavigate();\n      let url = endPoint + 'api/login-clientes';\n      axios.post(url, this.state.form).then(response => {\n        if (response.data.error) {\n          this.setState({\n            error: response.data.error,\n            errorMsg: response.data.mensaje\n          });\n          return;\n        } else {\n          const Access_token = response.data.Access_token.split(\"|\");\n          localStorage.setItem('token', Access_token[1]);\n          navigate(-1);\n        }\n      }).catch(error => {\n        this.setState({\n          error: true,\n          errorMsg: 'no se pudo validar las credenciales '\n        });\n      });\n    }, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n      return [useNavigate];\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper fadeInDown\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"formContent\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fadeIn first\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logochip,\n              width: \"100\",\n              alt: \"User Icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.eventForm,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              className: \"fadeIn second\",\n              placeholder: \"email\",\n              onChange: this.eventChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              className: \"fadeIn third\",\n              placeholder: \"password\",\n              onChange: this.eventChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              className: \"fadeIn fourth\",\n              value: \"Log In\",\n              onClick: this.eventSubmit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"formFooter\",\n            children: this.state.error === true && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              role: \"alert\",\n              children: this.state.errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","logochip","endPoint","useNavigate","axios","Login","Component","constructor","props","state","form","error","errorMsg","eventForm","e","preventDefault","eventChange","setState","target","name","value","eventSubmit","navigate","url","post","then","response","data","mensaje","Access_token","split","localStorage","setItem","catch","render"],"sources":["C:/Users/Administrador/Desktop/cliente/cliente-dynamic/src/components/Login.jsx"],"sourcesContent":["import React from \"react\";\r\nimport '../assets/css/main.css';\r\nimport logochip from '../assets/img/logochip.png';\r\nimport {endPoint} from '../services/apiRest.js';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport axios from 'axios'\r\n\r\nclass Login extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n    }\r\n\r\n    state={\r\n        form:{\r\n            \"email\":\"\",\r\n            \"password\":\"\"\r\n    },\r\n    error:false,\r\n    errorMsg:\"\"\r\n}\r\n        \r\n    eventForm=(e)=>{\r\n        e.preventDefault() \r\n\r\n\r\n    }\r\n    eventChange= async e=>{\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name] : e.target.value\r\n            }\r\n        })\r\n\r\n    }\r\n    eventSubmit=()=>{\r\n        let navigate = useNavigate();\r\n        let url = endPoint + 'api/login-clientes'\r\n        axios.post(url,this.state.form)\r\n        .then(response=>{\r\n            if(response.data.error){\r\n                this.setState({\r\n                    error: response.data.error,\r\n                    errorMsg: response.data.mensaje\r\n                    \r\n                })\r\n                return;\r\n            }else{\r\n                const Access_token = response.data.Access_token.split(\"|\");\r\n                localStorage.setItem('token', Access_token[1])\r\n                navigate(-1)\r\n            }\r\n            \r\n        }).catch(\r\n            error=>{\r\n                this.setState({\r\n                    error: true,\r\n                    errorMsg: 'no se pudo validar las credenciales '\r\n                })\r\n            }\r\n        )\r\n \r\n     }\r\n\r\n    render() {\r\n        return(\r\n        <React.Fragment>\r\n\r\n            <div className=\"wrapper fadeInDown\">\r\n                <div id=\"formContent\">\r\n\r\n\r\n\r\n                    <div className=\"fadeIn first\">\r\n                        <img src={logochip} width ='100' alt=\"User Icon\" />\r\n                    </div>\r\n                    <form onSubmit={this.eventForm}>\r\n                        <input type=\"text\" name=\"email\" className=\"fadeIn second\"  placeholder=\"email\" onChange={this.eventChange} />\r\n                        <input type=\"password\" name=\"password\" className=\"fadeIn third\" placeholder=\"password\" onChange={this.eventChange} />\r\n                        <input type=\"submit\" className=\"fadeIn fourth\" value=\"Log In\" onClick={this.eventSubmit} />\r\n                    </form>\r\n\r\n\r\n                    <div id=\"formFooter\">\r\n                        {\r\n                            this.state.error ===true &&\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n\r\n                                        {this.state.errorMsg}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,wBAAP;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAAQC,QAAR,QAAuB,wBAAvB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,KAAN,SAAoBL,KAAK,CAACM,SAA1B,CAAoC;EAChCC,WAAW,CAACC,KAAD,EAAO;IAAA;;IACd,MAAMA,KAAN;IADc,KAKlBC,KALkB,GAKZ;MACFC,IAAI,EAAC;QACD,SAAQ,EADP;QAED,YAAW;MAFV,CADH;MAKNC,KAAK,EAAC,KALA;MAMNC,QAAQ,EAAC;IANH,CALY;;IAAA,KAclBC,SAdkB,GAcPC,CAAD,IAAK;MACXA,CAAC,CAACC,cAAF;IAGH,CAlBiB;;IAAA,KAmBlBC,WAnBkB,GAmBL,MAAMF,CAAN,IAAS;MAClB,MAAM,KAAKG,QAAL,CAAc;QAChBP,IAAI,EAAC,EACD,GAAG,KAAKD,KAAL,CAAWC,IADb;UAED,CAACI,CAAC,CAACI,MAAF,CAASC,IAAV,GAAkBL,CAAC,CAACI,MAAF,CAASE;QAF1B;MADW,CAAd,CAAN;IAOH,CA3BiB;;IAAA,KA4BlBC,WA5BkB,MA4BN,MAAI;MAAA;;MACZ,IAAIC,QAAQ,GAAGnB,WAAW,EAA1B;MACA,IAAIoB,GAAG,GAAGrB,QAAQ,GAAG,oBAArB;MACAE,KAAK,CAACoB,IAAN,CAAWD,GAAX,EAAe,KAAKd,KAAL,CAAWC,IAA1B,EACCe,IADD,CACMC,QAAQ,IAAE;QACZ,IAAGA,QAAQ,CAACC,IAAT,CAAchB,KAAjB,EAAuB;UACnB,KAAKM,QAAL,CAAc;YACVN,KAAK,EAAEe,QAAQ,CAACC,IAAT,CAAchB,KADX;YAEVC,QAAQ,EAAEc,QAAQ,CAACC,IAAT,CAAcC;UAFd,CAAd;UAKA;QACH,CAPD,MAOK;UACD,MAAMC,YAAY,GAAGH,QAAQ,CAACC,IAAT,CAAcE,YAAd,CAA2BC,KAA3B,CAAiC,GAAjC,CAArB;UACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,YAAY,CAAC,CAAD,CAA1C;UACAP,QAAQ,CAAC,CAAC,CAAF,CAAR;QACH;MAEJ,CAfD,EAeGW,KAfH,CAgBItB,KAAK,IAAE;QACH,KAAKM,QAAL,CAAc;UACVN,KAAK,EAAE,IADG;UAEVC,QAAQ,EAAE;QAFA,CAAd;MAIH,CArBL;IAwBF,CAvDgB;MAAA,QA6BCT,WA7BD;IAAA;EAGjB;;EAsDD+B,MAAM,GAAG;IACL,oBACA,QAAC,KAAD,CAAO,QAAP;MAAA,uBAEI;QAAK,SAAS,EAAC,oBAAf;QAAA,uBACI;UAAK,EAAE,EAAC,aAAR;UAAA,wBAII;YAAK,SAAS,EAAC,cAAf;YAAA,uBACI;cAAK,GAAG,EAAEjC,QAAV;cAAoB,KAAK,EAAE,KAA3B;cAAiC,GAAG,EAAC;YAArC;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA,QAJJ,eAOI;YAAM,QAAQ,EAAE,KAAKY,SAArB;YAAA,wBACI;cAAO,IAAI,EAAC,MAAZ;cAAmB,IAAI,EAAC,OAAxB;cAAgC,SAAS,EAAC,eAA1C;cAA2D,WAAW,EAAC,OAAvE;cAA+E,QAAQ,EAAE,KAAKG;YAA9F;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAO,IAAI,EAAC,UAAZ;cAAuB,IAAI,EAAC,UAA5B;cAAuC,SAAS,EAAC,cAAjD;cAAgE,WAAW,EAAC,UAA5E;cAAuF,QAAQ,EAAE,KAAKA;YAAtG;cAAA;cAAA;cAAA;YAAA,QAFJ,eAGI;cAAO,IAAI,EAAC,QAAZ;cAAqB,SAAS,EAAC,eAA/B;cAA+C,KAAK,EAAC,QAArD;cAA8D,OAAO,EAAE,KAAKK;YAA5E;cAAA;cAAA;cAAA;YAAA,QAHJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAPJ,eAcI;YAAK,EAAE,EAAC,YAAR;YAAA,UAEQ,KAAKZ,KAAL,CAAWE,KAAX,KAAoB,IAApB,iBACI;cAAK,SAAS,EAAC,oBAAf;cAAoC,IAAI,EAAC,OAAzC;cAAA,UAES,KAAKF,KAAL,CAAWG;YAFpB;cAAA;cAAA;cAAA;YAAA;UAHZ;YAAA;YAAA;YAAA;UAAA,QAdJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA;IAFJ;MAAA;MAAA;MAAA;IAAA,QADA;EAgCH;;AA3F+B;;AA8FpC,eAAeP,KAAf"},"metadata":{},"sourceType":"module"}